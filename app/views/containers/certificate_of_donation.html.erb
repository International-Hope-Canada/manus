<%= render partial: 'printable_preamble', locals: { container: @container } %>

<table class="container-printable-table">
  <thead>
    <tr>
      <th class="numeric">Row No.</th>
      <th>Description</th>
      <th class="numeric">Quantity</th>
      <th class="numeric">Unit</th>
      <th class="numeric">Ext.</th>
    </tr>
  </thead>
  <tbody>
    <% row_number = 0 %>
    <% items = summarized_container_items_for_printable(@container) %>
    <% items.each do |subcategory, count, total_value| %>
      <tr>
        <td class="numeric"><%= row_number += 1 %></td>
        <td><%= subcategory.display_name %></td>
        <td class="numeric"><%= count %></td>
        <td class="numeric"><%= number_to_currency(subcategory.value || subcategory.item_category.value || 0) %></td>
        <td class="numeric"><%= number_to_currency(total_value) %></td>
      </tr>
    <% end %>
    <tr class="container-printable-table-total">
      <td class="numeric"><%= row_number += 1 %></td>
      <td>Total</td>
      <td class="numeric"><%= items.sum(&:second) %></td>
      <td></td>
      <td class="numeric"><%= number_to_currency(items.sum(&:third)) %></td>
    </tr>
  </tbody>
</table>

<%= render partial: 'printable_consignee', locals: { container: @container } %>

<%= render partial: 'printable_donor' %>

<%= render partial: 'printable_charity_number_footer' %>